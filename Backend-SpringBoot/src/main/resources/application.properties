# ═══════════════════════════════════════════════════════════════════════════
# CONFIGURACIÓN BACKEND - FINANZAS APP (EVAN)
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# SERVIDOR
# ───────────────────────────────────────────────────────────────────────────
server.port=${PORT:8081}
server.address=0.0.0.0

# ───────────────────────────────────────────────────────────────────────────
# BASE DE DATOS - AUTOMÁTICA PARA RENDER
# ───────────────────────────────────────────────────────────────────────────
# Render configura DATABASE_URL automáticamente para PostgreSQL
# Si no existe, usa H2 local
spring.datasource.url=${DATABASE_URL:jdbc:h2:mem:testdb}
spring.datasource.username=${DB_USERNAME:test}
spring.datasource.password=${DB_PASSWORD:contra}
spring.datasource.driver-class-name=${DB_DRIVER:org.h2.Driver}

# ───────────────────────────────────────────────────────────────────────────
# JPA/HIBERNATE
# ───────────────────────────────────────────────────────────────────────────
spring.jpa.database-platform=${DB_DIALECT:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${DB_DDL_MODE:update}
spring.jpa.show-sql=${SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=true

# ───────────────────────────────────────────────────────────────────────────
# H2 CONSOLE (Solo desarrollo local)
# ───────────────────────────────────────────────────────────────────────────
spring.h2.console.enabled=${H2_CONSOLE_ENABLED:true}
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=${H2_ALLOW_OTHERS:true}

# ───────────────────────────────────────────────────────────────────────────
# JWT CONFIGURACIÓN
# ───────────────────────────────────────────────────────────────────────────
jwt.secret=${JWT_SECRET:miClaveSecretaParaJWTQueDebeSerMuyLarga}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ───────────────────────────────────────────────────────────────────────────
# CORS - PERMITIR FRONTEND ANDROID
# ───────────────────────────────────────────────────────────────────────────
cors.allowed-origins=${CORS_ORIGINS:*}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
cors.allowed-headers=*

# ───────────────────────────────────────────────────────────────────────────
# LOGGING
# ───────────────────────────────────────────────────────────────────────────
logging.level.root=${LOG_LEVEL:INFO}
logging.level.com.registrofinanzas=${APP_LOG_LEVEL:DEBUG}
logging.level.org.hibernate=${HIBERNATE_LOG_LEVEL:WARN}

# ───────────────────────────────────────────────────────────────────────────
# INFORMACIÓN DE LA APP
# ───────────────────────────────────────────────────────────────────────────
spring.application.name=Backend Finanzas
app.version=1.0.0
app.description=Backend para app de finanzas de Evan

# ═══════════════════════════════════════════════════════════════════════════
# NOTAS:
# - En desarrollo: usa H2 en memoria
# - En Render: usa PostgreSQL automáticamente
# - Variables ${VAR:default} usan entorno o valor por defecto
# ═══════════════════════════════════════════════════════════════════════════